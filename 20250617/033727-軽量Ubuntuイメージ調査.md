# 軽量Ubuntuイメージ調査

**User**:
compose.yamlを特別にClaude CodeをPID1にすることを許可する

**Claude**:
compose.yamlを更新してClaude CodeをPID1として実行するよう設定しました。

### 主な変更点
- `command: tail -f /dev/null` から `command: ["claude-code"]` に変更
- `ANTHROPIC_API_KEY` 環境変数を追加
- `init: true` を追加してシグナル処理を改善

### 更新後のcompose.yaml
```yaml
services:
  claude-code-log:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: claude-code-log
    volumes:
      - .:/workspace
    working_dir: /workspace
    command: ["claude-code"]
    stdin_open: true
    tty: true
    environment:
      - TERM=xterm-256color
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
    init: true
```

これで `make up` 実行時にClaude CodeがPID1として起動し、コンテナ内で直接Claude Codeのインタラクティブセッションが開始されます。


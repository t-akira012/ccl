# 軽量Ubuntuイメージ調査

**User**:
特別にclaude-codeをAuthモードで起動するようにMakefileを変更することを許可する

**Claude**:
Makefileにclaude-codeのAuthモード起動コマンドを追加しました。

### 追加されたコマンド

```makefile
# Claude Code 関連
auth:
	@if [ -z "$(ANTHROPIC_API_KEY)" ]; then \
		echo "Error: ANTHROPIC_API_KEY is not set. Please run: export ANTHROPIC_API_KEY=your_key"; \
		exit 1; \
	fi
	ANTHROPIC_API_KEY=$(ANTHROPIC_API_KEY) docker compose exec claude-code-log claude-code auth

claude:
	@if [ -z "$(ANTHROPIC_API_KEY)" ]; then \
		echo "Error: ANTHROPIC_API_KEY is not set. Please run: export ANTHROPIC_API_KEY=your_key"; \
		exit 1; \
	fi
	ANTHROPIC_API_KEY=$(ANTHROPIC_API_KEY) docker compose exec claude-code-log claude-code
```

### 使用方法

```bash
# 1. 環境変数を設定
export ANTHROPIC_API_KEY="sk-ant-api03-..."

# 2. コンテナを起動（bashモード）
make up

# 3. 別ターミナルでClaude Code認証
make auth

# 4. Claude Codeを実行
make claude
```

### 機能
- `make auth`: claude-code authコマンドでAPI認証を実行
- `make claude`: claude-codeを対話モードで起動
- 両コマンドとも環境変数チェック付き
- コンテナ内でclaude-codeを実行

